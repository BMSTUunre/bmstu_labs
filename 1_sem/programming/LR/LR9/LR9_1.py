"""
–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é ‚Ññ9
1 —Å–µ–º–µ—Å—Ç—Ä; –Ω–æ—è–±—Ä—å 2024 –≥–æ–¥–∞
–ö–æ—Ä–æ—Å—Ç—ã–ª–µ–≤ –ï–≥–æ—Ä –ò–£7-14–ë

–ó–∞–¥–∞—á–∞ 1:
–î–∞–Ω—ã –¥–≤–∞ –æ–¥–Ω–æ–º–µ—Ä–Ω—ã—Ö —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –º–∞—Å—Å–∏–≤–∞ A –∏ B. –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ç—Ä–∏—Ü—É M, —Ç–∞–∫—É—é —á—Ç–æ

    ùëöùëñùëó = ùëéùëñ * ùëèùëó.

–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–Ω—ã—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ –≤ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ –º–∞—Ç—Ä–∏—Ü—ã.
–ó–∞–ø–∏—Å–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ –º–∞—Å—Å–∏–≤ S. –ù–∞–ø–µ—á–∞—Ç–∞—Ç—å –º–∞—Ç—Ä–∏—Ü—É M –≤ –≤–∏–¥–µ –º–∞—Ç—Ä–∏—Ü—ã –∏ —Ä—è–¥–æ–º —Å—Ç–æ–ª–±–µ—ÜS.
"""


def main():
    # –ë–ª–æ–∫ 0: –í–≤–æ–¥ –º–∞—Ç—Ä–∏—Ü.
    print('–í–≤–æ–¥–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É A –ø–æ—Å—Ç—Ä–æ—á–Ω–æ, –ø—Ä–æ–±–µ–ª–∞–º–∏ —Ä–∞–∑–¥–µ–ª—è—è —ç–ª–µ–º–µ–Ω—Ç—ã\n–í–≤–æ–¥ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø—É—Å—Ç–æ —Å—Ç—Ä–æ–∫–æ–π\n')

    a_matrix = []
    while line := input('> ').strip():
        a_matrix.append([int(x) for x in line.split()])

    print('–í–≤–æ–¥–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É B –ø–æ—Å—Ç—Ä–æ—á–Ω–æ, –ø—Ä–æ–±–µ–ª–∞–º–∏ —Ä–∞–∑–¥–µ–ª—è—è —ç–ª–µ–º–µ–Ω—Ç—ã\n–í–≤–æ–¥ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø—É—Å—Ç–æ —Å—Ç—Ä–æ–∫–æ–π\n')

    b_matrix = []
    while line := input('> ').strip():
        b_matrix.append([int(x) for x in line.split()])


    # 1: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∞—Ç—Ä–∏—Ü—ã –∏ –µ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ
    if len(a_matrix) != len(b_matrix) or len(a_matrix[0]) != len(b_matrix[0]):
        print('–ú–∞—Ç—Ä–∏—Ü—ã —Ç—É—Ö–ª—ã–µ.')
        return


    m_matrix = [[0 for _ in range(len(a_matrix[0]))] for _ in range(len(a_matrix))]

    for i in range(len(m_matrix)):
        for j in range(len(m_matrix[i])):
            m_matrix[i][j] = a_matrix[i][j] * b_matrix[i][j]

    # 2:
    s_list = [0 for _ in range(len(m_matrix))]
    for i in range(len(m_matrix)):
        for j in range(len(m_matrix[i])):
            x = m_matrix[i][j] ** 0.5
            if x == int(x):
                s_list[i] += 1

    # 3:

    for line in m_matrix:
        print('[', end='')
        for x in line:
            print(str(x).rjust(3), end=', ')
        print('\b\b]')

if __name__ == '__main__':
    main()